[{"/Users/jerome/Desktop/dev/mesto-react-main/src/index.js":"1","/Users/jerome/Desktop/dev/mesto-react-main/src/reportWebVitals.js":"2","/Users/jerome/Desktop/dev/mesto-react-main/src/components/App.js":"3","/Users/jerome/Desktop/dev/mesto-react-main/src/components/Header.js":"4","/Users/jerome/Desktop/dev/mesto-react-main/src/components/Main.js":"5","/Users/jerome/Desktop/dev/mesto-react-main/src/components/Footer.js":"6","/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupUpdateAvatar.js":"7","/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupWithForm.js":"8","/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupEditProfile.js":"9","/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupAddCard.js":"10","/Users/jerome/Desktop/dev/mesto-react-main/src/utils/Api.js":"11","/Users/jerome/Desktop/dev/mesto-react-main/src/components/Card.js":"12","/Users/jerome/Desktop/dev/mesto-react-main/src/components/ImagePopup.js":"13","/Users/jerome/Desktop/dev/mesto-react-main/src/contexts/CurrentUserContext.js":"14","/Users/jerome/Desktop/dev/react-mesto-auth/src/index.js":"15","/Users/jerome/Desktop/dev/react-mesto-auth/src/reportWebVitals.js":"16","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/App.js":"17","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupAddCard.js":"18","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Footer.js":"19","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Header.js":"20","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/ImagePopup.js":"21","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupUpdateAvatar.js":"22","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Main.js":"23","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupEditProfile.js":"24","/Users/jerome/Desktop/dev/react-mesto-auth/src/contexts/CurrentUserContext.js":"25","/Users/jerome/Desktop/dev/react-mesto-auth/src/utils/Api.js":"26","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupWithForm.js":"27","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Card.js":"28","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Login.js":"29","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Register.js":"30","/Users/jerome/Desktop/dev/react-mesto-auth/src/utils/auth.js":"31","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/RequireAuth.js":"32","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/InfoTooltip.js":"33"},{"size":511,"mtime":1637014935845,"results":"34","hashOfConfig":"35"},{"size":362,"mtime":1637011655302,"results":"36","hashOfConfig":"35"},{"size":4176,"mtime":1639490484934,"results":"37","hashOfConfig":"35"},{"size":280,"mtime":1637062363706,"results":"38","hashOfConfig":"35"},{"size":2018,"mtime":1639480516693,"results":"39","hashOfConfig":"35"},{"size":220,"mtime":1637062357607,"results":"40","hashOfConfig":"35"},{"size":1056,"mtime":1639438410522,"results":"41","hashOfConfig":"35"},{"size":685,"mtime":1639436417667,"results":"42","hashOfConfig":"35"},{"size":1588,"mtime":1639436991399,"results":"43","hashOfConfig":"35"},{"size":1240,"mtime":1639480669088,"results":"44","hashOfConfig":"35"},{"size":2515,"mtime":1639437018678,"results":"45","hashOfConfig":"35"},{"size":1708,"mtime":1639480368638,"results":"46","hashOfConfig":"35"},{"size":853,"mtime":1637062752277,"results":"47","hashOfConfig":"35"},{"size":84,"mtime":1639421051963,"results":"48","hashOfConfig":"35"},{"size":626,"mtime":1640208118677,"results":"49","hashOfConfig":"50"},{"size":362,"mtime":1637011655302,"results":"51","hashOfConfig":"50"},{"size":8015,"mtime":1640219131598,"results":"52","hashOfConfig":"50"},{"size":1240,"mtime":1639480669088,"results":"53","hashOfConfig":"50"},{"size":220,"mtime":1637062357607,"results":"54","hashOfConfig":"50"},{"size":1021,"mtime":1640214739194,"results":"55","hashOfConfig":"50"},{"size":853,"mtime":1637062752277,"results":"56","hashOfConfig":"50"},{"size":1056,"mtime":1639438410522,"results":"57","hashOfConfig":"50"},{"size":2018,"mtime":1639480516693,"results":"58","hashOfConfig":"50"},{"size":1588,"mtime":1639436991399,"results":"59","hashOfConfig":"50"},{"size":84,"mtime":1639421051963,"results":"60","hashOfConfig":"50"},{"size":2515,"mtime":1639437018678,"results":"61","hashOfConfig":"50"},{"size":685,"mtime":1639436417667,"results":"62","hashOfConfig":"50"},{"size":1708,"mtime":1639480368638,"results":"63","hashOfConfig":"50"},{"size":1020,"mtime":1640215507002,"results":"64","hashOfConfig":"50"},{"size":1162,"mtime":1640215484447,"results":"65","hashOfConfig":"50"},{"size":1124,"mtime":1640219710613,"results":"66","hashOfConfig":"50"},{"size":222,"mtime":1640215495629,"results":"67","hashOfConfig":"50"},{"size":651,"mtime":1640212900770,"results":"68","hashOfConfig":"50"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"132akho",{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1f87anu",{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jerome/Desktop/dev/mesto-react-main/src/index.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/reportWebVitals.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/App.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/Header.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/Main.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/Footer.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupUpdateAvatar.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupWithForm.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupEditProfile.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/PopupAddCard.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/utils/Api.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/Card.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/components/ImagePopup.js",[],"/Users/jerome/Desktop/dev/mesto-react-main/src/contexts/CurrentUserContext.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/index.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/reportWebVitals.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/App.js",["136"],"import React from 'react';\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer';\nimport PopupUpdateAvatar from './PopupUpdateAvatar';\nimport PopupEditProfile from './PopupEditProfile';\nimport PopupAddCard from './PopupAddCard';\nimport ImagePopup from './ImagePopup';\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { Route, Routes, Navigate, useNavigate } from 'react-router-dom';\nimport RequireAuth from './RequireAuth';\nimport Login from './Login';\nimport Register from './Register';\nimport * as auth from \"../utils/auth\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport iconAppruve from \"../images/iconAppruve.svg\"\nimport iconErr from \"../images/iconErr.svg\"\n\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isInfoTooltipOpen, setIsTooltipOpen] = React.useState(false)\n\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [messagePopup, setMessagePopup] = React.useState({ icon: \"\", text: \"\" })\n  const nav = useNavigate()\n\n\n  //описание авторизации\n  function onLogin({ password, email }) {\n    return auth.signin({ password, email })\n      .then((data) => {\n        //если получили токен и авторизация прошла успешно\n        //то открывается окно подтверждения и переадресовывает на главную страницу\n\n        if (data.token) {\n          handleInfoTooltipOpen({\n            icon: iconAppruve,\n            text: \"Вы успешно авторизовались!\",\n          })\n          handleIsTooltipOpen()\n          setEmail(email);\n          setLoggedIn(true);\n          localStorage.setItem('jwt', data.token);\n          localStorage.setItem('email', email);\n          nav('/');\n        }\n        else {\n          handleInfoTooltipOpen({\n            icon: iconErr,\n            text: \"Что-то пошло не так! Попробуйте ещё раз.\",\n          })\n          handleIsTooltipOpen();\n        }\n      })\n      .catch((err) => {\n        console.log(err)\n      });\n  }\n\n  //описание регистрации\n  function onRegister({ password, email }) {\n    return auth.signup({ password, email })\n      .then((data) => {\n        if (data.data._id) {\n          handleInfoTooltipOpen({\n            icon: iconAppruve,\n            text: \"Вы успешно зарегистрировались!\",\n          })\n          handleIsTooltipOpen()\n          nav('/sign-in')\n        }\n      })\n      .catch((err) => {\n        handleInfoTooltipOpen({\n          icon: iconErr,\n          text: \"Что-то пошло не так! Попробуйте ещё раз.\",\n        })\n        handleIsTooltipOpen();\n        console.log(err)\n      });\n  }\n\n  //состояние данных подтверждения регистрации\n  function handleInfoTooltipOpen({ icon, text }) {\n    setMessagePopup({ icon, text });\n  }\n\n  //выход\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    setEmail('');\n    nav('/sign-in');\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth.checkToken(jwt)\n        .then((data) => {\n          if (data.data) {\n            setEmail(data.data.email);\n            setLoggedIn(true);\n            nav('/')\n          }\n        })\n        .catch((err) => {\n          console.log(err)\n        });\n    }\n  }, [])\n\n  React.useEffect(() => {\n    api.getUserData()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        console.log(err)\n      });\n  }, [])\n\n  React.useEffect(() => {\n    api.getCardsData()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => {\n        console.log(err)\n      });\n  }\n\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCard = cards.filter((c) => c !== card);\n        setCards(newCard)\n      })\n      .catch((err) => {\n        console.log(err)\n      });\n  }\n\n\n\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({ isOpen: false });\n    setIsTooltipOpen(false)\n  }\n\n  function handleIsTooltipOpen() {\n    setIsTooltipOpen(true)\n  }\n\n  function handleCardClick(card) {\n    card.isOpen = !card.isOpen\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.updateUserData({ name, about })\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.updateAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api.addCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n\n\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n        <Header loggedIn={loggedIn} email={email} handleSignOut={handleSignOut} />\n        <Routes>\n          <Route path=\"/sign-up\" element={<Register onRegister={onRegister} />} />\n          <Route path=\"/sign-in\" element={<Login onLogin={onLogin} />} />\n          <Route exact path=\"/\" element={!loggedIn ? <Navigate to=\"/sign-in\" /> : <Navigate to=\"/main\" />} />\n          <Route path=\"/main\" element={\n            <RequireAuth loggedIn={loggedIn}>\n              <Main\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete} />\n            </RequireAuth>} />\n        </Routes>\n        <PopupUpdateAvatar\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateAvatar}\n          buttonText=\"Сохранить\" />\n        <PopupEditProfile\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          buttonText=\"Сохранить\" />\n        <PopupAddCard\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          buttonText=\"Сохранить\" />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups} />\n        <InfoTooltip\n          onClose={closeAllPopups}\n          isOpen={isInfoTooltipOpen}\n          messagePopup={messagePopup} />\n        <Footer />\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupAddCard.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Footer.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Header.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/ImagePopup.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupUpdateAvatar.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Main.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupEditProfile.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/contexts/CurrentUserContext.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/utils/Api.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupWithForm.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Card.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Login.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/Register.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/utils/auth.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/RequireAuth.js",[],"/Users/jerome/Desktop/dev/react-mesto-auth/src/components/InfoTooltip.js",[],{"ruleId":"137","severity":1,"message":"138","line":121,"column":6,"nodeType":"139","endLine":121,"endColumn":8,"suggestions":"140"},"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'nav'. Either include it or remove the dependency array.","ArrayExpression",["141"],{"desc":"142","fix":"143"},"Update the dependencies array to be: [nav]",{"range":"144","text":"145"},[3630,3632],"[nav]"]